{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FORM_KEY = 'feedback-form-state';\nconst form = document.querySelector('form');\nconst setStoredData = (data) => {\n  try {\n    localStorage.setItem(FORM_KEY, JSON.stringify(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst getStoredData = key => {\n  try {\n    const dataFromLS = localStorage.getItem(key);\n    return dataFromLS ? JSON.parse(dataFromLS) : null;\n  } catch (err) {\n    console.log(err);\n    return null;\n  }\n};\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst savedData = getStoredData(FORM_KEY);\n\nif (savedData) {\n  formData.email = savedData.email || '';\n  formData.message = savedData.message || '';\n  form.elements.email.value = formData.email;\n  form.elements.message.value = formData.message;\n}\n\nconst onFormFieldChange = event => {\n  const { target: formField } = event;\n\n  const fieldName = formField.name;\n  const fieldValue = formField.value;\n\n  formData[fieldName] = fieldValue;\n\n  setStoredData(formData);\n};\n\nconst onFeedbackFormSubmit = event => {\n  event.preventDefault();\n\n  const formDataValues = Object.values(formData);\n\n  if (formDataValues.some(value => value.trim() === '')) {\n    alert('Fill please all fields!');\n    return;\n  }\n\n  formData.email = '';\n  formData.message = '';\n\n  event.currentTarget.reset();\n  localStorage.removeItem(FORM_KEY);\n};\n\nform.addEventListener('input', onFormFieldChange);\nform.addEventListener('submit', onFeedbackFormSubmit);"],"names":["FORM_KEY","form","setStoredData","data","err","getStoredData","key","dataFromLS","formData","savedData","onFormFieldChange","event","formField","fieldName","fieldValue","onFeedbackFormSubmit","value"],"mappings":"oDAAA,MAAMA,EAAW,sBACXC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAiBC,GAAS,CAC9B,GAAI,CACF,aAAa,QAAQH,EAAU,KAAK,UAAUG,CAAI,CAAC,CACpD,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEMC,EAAgBC,GAAO,CAC3B,GAAI,CACF,MAAMC,EAAa,aAAa,QAAQD,CAAG,EAC3C,OAAOC,EAAa,KAAK,MAAMA,CAAU,EAAI,IAC9C,OAAQH,EAAK,CACZ,eAAQ,IAAIA,CAAG,EACR,IACR,CACH,EAEMI,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAYJ,EAAcL,CAAQ,EAEpCS,IACFD,EAAS,MAAQC,EAAU,OAAS,GACpCD,EAAS,QAAUC,EAAU,SAAW,GACxCR,EAAK,SAAS,MAAM,MAAQO,EAAS,MACrCP,EAAK,SAAS,QAAQ,MAAQO,EAAS,SAGzC,MAAME,EAAoBC,GAAS,CACjC,KAAM,CAAE,OAAQC,CAAW,EAAGD,EAExBE,EAAYD,EAAU,KACtBE,EAAaF,EAAU,MAE7BJ,EAASK,CAAS,EAAIC,EAEtBZ,EAAcM,CAAQ,CACxB,EAEMO,EAAuBJ,GAAS,CAKpC,GAJAA,EAAM,eAAc,EAEG,OAAO,OAAOH,CAAQ,EAE1B,KAAKQ,GAASA,EAAM,KAAI,IAAO,EAAE,EAAG,CACrD,MAAM,yBAAyB,EAC/B,MACD,CAEDR,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBG,EAAM,cAAc,QACpB,aAAa,WAAWX,CAAQ,CAClC,EAEAC,EAAK,iBAAiB,QAASS,CAAiB,EAChDT,EAAK,iBAAiB,SAAUc,CAAoB"}